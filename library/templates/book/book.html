{% extends "../base.html" %}

{% block title %}Book{% endblock %}
{%  load static %}
<style>
table{
  border-collapse: collapse
}

td{
  border: 1px solid black;
  padding: 10px;
}
</style>

{% block content %}
{% if form.errors %}

{% endif %}

<h2>Page Book</h2><h3>User : {{ user.username }}</h3>


    <!-- table html -->
    <table>
        <tr>
            <th>Titre</th>
            <th>Auteur</th>
            <th>Editeur</th>
            <th>Collection</th>
            <th>Genre</th>
            <th>Image</th>
            <th>Durée maximum emprunt</th>
            <th>Library</th>
            <th>Edition</th>
            <th>Suppression</th>
        </tr>
        {% if books|length_is:"0" %}
        <tr>
            <td colspan="10" >Aucun livre</td>
        </tr>
        {% endif %}
        {% for book in books %}
        <tr>
            
            <td>{{ book.title }}</td>
            <td>{{ book.author }}</td>
            <td>{{ book.editor }}</td>
            <td>{{ book.collection }}</td>
            <td>{{ book.genre }}</td>
            {% if book.jacket %}
            <td><img src="{{ book.jacket.url }}" width="30px"> </td>
            {% endif %}
            <td>{{ book.duration_max }}</td>
            <td>{{ book.library }}</td>
            {% if book.library.owner == user %}
            <td><a href="{% url 'editBook' book.id %}">Editer</a></td>
            {% else %}
            <td></td>
            {% endif %}
            <td><a href="{% url 'deleteBook' book.id %}">Supprimer</a></td>
        </tr>
        {% endfor %}
    </table>

   


<a href="{% url 'addBook' %}">Ajouter un livre</a>
<a href="{% url 'logout' %}">Se déconnecter</a>

{% endblock %}